<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crear Curso</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
        body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background-color: #abbeb5; 
    color: #333; 
    box-sizing: border-box;
}

.container {
    max-width: 900px;
    margin: 20px auto;
    padding: 20px;
    border: 1px solid #b0c4b1; 
    border-radius: 8px;
    background-color: #ffffff; 
    box-shadow: 0 4px 6px rgba(201, 23, 23, 0.1);
}

h1 {
    text-align: center;
    color: #2d6a4f; 
}

label {
    display: block;
    margin: 15px 0 5px;
    font-weight: bold;
    color: #2f3e3b; 
}

input[type="text"],
textarea {
    width: 100%;
    padding: 10px;
    margin-bottom: 10px;
    border: 1px solid #b7d2bf; 
    border-radius: 4px;
    font-size: 16px;
    background-color: #f8fdf9; 
    color: #2d6a4f; 
}

input[type="text"]:focus,
textarea:focus {
    border-color: #52b788; 
    outline: none;
}

.logo-upload {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-bottom: 20px;
}

.logo-upload img {
    max-width: 200px;
    margin-bottom: 10px;
    border: 1px solid #b7d2bf; 
    border-radius: 4px;
    background-color: #f8fdf9; 
}

.blocks {
    display: flex;
    gap: 10px;
    overflow-x: auto;
    margin-bottom: 20px;
}

.block {
    flex: 0 0 30%;
    min-width: 200px;
    height: 150px;
    border: 2px dashed #52b788; 
    border-radius: 4px;
    background-color: #f8fdf9; 
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    color: #2d6a4f; 
    font-size: 24px;
    font-weight: bold;
}

.block:hover {
    background-color: #e6f5ea; 
}

.buttons {
    display: flex;
    justify-content: space-between;
}

.buttons button {
    padding: 10px 20px;
    font-size: 16px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-weight: bold;
}

.publish-btn {
    background-color: #2d6a4f; 
    color: white;
}

.publish-btn:hover {
    background-color: #1b4631; 
}

.draft-btn {
    background-color: #b7d2bf; 
    color: #2d6a4f; 
}

.draft-btn:hover {
    background-color: #9dbfa5; 
}

/* Dropdown styles */
.dropdown {
    position: relative;
}

.dropdown-content {
    display: none;
    position: absolute;
    top: 20px;
    right: 0;
    background-color: white;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    border-radius: 4px;
    overflow: hidden;
    z-index: 1;
}

.dropdown-content a {
    display: block;
    padding: 10px 30px;
    color: black;
    text-decoration: none;
    font-size: 17px;
}

.dropdown-content a:hover {
    background-color: #ddd;
}

.dropdown:hover .dropdown-content {
    display: block;
}


    </style>
</head>
<body>
    <header data-bs-theme="dark">
        <div class="navbar navbar-dark bg-dark shadow-sm">
            <div class="container">
                <a href="/Juan/Pagina inicio usuario/usuario.html">
                    <img src="Multimedia/LogoLearnX.png" width="80px" alt="Logo de LearnX">
                </a>
                <div class="dropdown">
                    <button class="menu-button btn btn-dark">☰</button>
                    <div class="dropdown-content">
                        <a href="/Mig/PerfilUsuario/perfilUsuario.html">Mi perfil</a>
                        <a href="/Mig/listaFav/listafav.html">Lista de Favoritos</a>
                    </div>
                </div> 
            </div>
                          
            </div>
        </div>
    </header>

    <main>
        <div class="container mt-4">
            <button class="back-button" onclick="goBack()">&#60;</button> 
            <h1 class="text-center">Crear Curso</h1>

            <div class="logo-upload">
                <label for="logo">Imagen del curso:</label>
                <img id="logo-preview" src="#" alt="Previsualización del logo" style="display:none;">
                <input type="file" id="logo" accept="image/*" onchange="previewLogo(event)">
            </div>

            <label for="course-name">Nombre del curso:</label>
            <input type="text" class="form-control mb-3" id="course-name" placeholder="Escribe el nombre del curso">

            <label for="description">Descripción del curso:</label>
            <textarea class="form-control mb-3" id="description" rows="5" placeholder="Escribe una descripción del curso"></textarea>

            <label>Agregar materiales:</label>
            <div class="blocks" id="blocks-container">
                <div class="block" onclick="addFileInput(this)">+</div>
                <div class="block" onclick="addFileInput(this)">+</div>
                <div class="block" onclick="addFileInput(this)">+</div>
            </div>

            <div class="buttons d-flex justify-content-between">
                <button class="btn btn-secondary" data-bs-toggle="modal" data-bs-target="#draftModal">Guardar Borrador</button>
                <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#publishModal">Publicar</button>
            </div>

        </div>
    </main>

    <footer>
        <div class="modal fade" id="draftModal" tabindex="-1" aria-labelledby="draftModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="draftModalLabel">Guardar Borrador</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        ¿Estás seguro de que quieres guardar este curso como borrador?
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">No</button>
                        <button type="button" class="btn btn-success" onclick="saveDraft()">Sí</button>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="modal fade" id="publishModal" tabindex="-1" aria-labelledby="publishModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="publishModalLabel">Publicar</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        ¿Estás seguro de que quieres publicar este curso?
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">No</button>
                        <button type="button" class="btn btn-success" onclick="publishCourse()">Sí</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="confirmationModal" tabindex="-1" aria-labelledby="confirmationModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="confirmationModalLabel">Acción Completada</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body" id="confirmationMessage">
                        <!-- Aquí se mostrará el mensaje correspondiente -->
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" data-bs-dismiss="modal">OK</button>
                    </div>
                </div>
            </div>
        </div>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"></script>

    <script>
        function saveDraft() {
            // Cerrar el modal de borrador
            const draftModal = new bootstrap.Modal(document.getElementById('draftModal'));
            draftModal.hide();
            
            // Mostrar el mensaje de confirmación
            document.getElementById('confirmationMessage').innerText = "Curso guardado como borrador.";
            const confirmationModal = new bootstrap.Modal(document.getElementById('confirmationModal'));
            confirmationModal.show();
        }

        function publishCourse() {
            const courseName = document.getElementById('course-name').value.trim();
            const description = document.getElementById('description').value.trim();

            if (!courseName || !description) {
                alert("Por favor, complete todos los campos antes de publicar.");
            } else {
                const publishModal = new bootstrap.Modal(document.getElementById('publishModal'));
                publishModal.hide();
                
                document.getElementById('confirmationMessage').innerText = "Curso publicado con éxito.";
                const confirmationModal = new bootstrap.Modal(document.getElementById('confirmationModal'));
                confirmationModal.show();
            }
        }

        function resetModals() {
            const draftModal = new bootstrap.Modal(document.getElementById('draftModal'));
            const publishModal = new bootstrap.Modal(document.getElementById('publishModal'));
            draftModal.show();
            publishModal.show();
        }
        function previewLogo(event) {
            const logoPreview = document.getElementById('logo-preview');
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    logoPreview.src = e.target.result;
                    logoPreview.style.display = "block";
                };
                reader.readAsDataURL(file);
            } else {
                logoPreview.style.display = "none";
            }
        }

        function addFileInput(blockElement) {
            const input = document.createElement("input");
            input.type = "file";
            input.accept = "application/*"; 
            input.className = "file-input";
            
            blockElement.innerHTML = ''; 
            blockElement.appendChild(input);
            input.addEventListener("change", function() {
                blockElement.innerHTML = input.files.length + " archivo(s) seleccionado(s)";
            });
        }

        function validateForm() {
            const courseName = document.getElementById('course-name').value.trim();
            const description = document.getElementById('description').value.trim();

            if (!courseName || !description) {
                alert("Por favor, complete todos los campos antes de publicar.");
            } else {
                alert("Curso publicado con éxito.");
            }
        }
        function confirmDraft() {
            const confirmed = confirm("¿Estás seguro de que quieres guardar este curso como borrador?");
            if (confirmed) {
                alert("Curso guardado como borrador.");
            }
        }

        function confirmPublish() {
            const confirmed = confirm("¿Estás seguro de que quieres publicar este curso?");
            if (confirmed) {
                validateForm(); 
            }
        }
        function goBack() {
            window.location.href = '/Mig/PerfilUsuario/perfilUsuario.html';
        }
    </script>
</body>
</html>